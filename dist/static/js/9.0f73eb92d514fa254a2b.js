webpackJsonp([9],{Cqv5:function(e,t){},lOKY:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("iVUn"),i=a("fftp"),r=a("zhQY"),l=a("Z/hU"),n=a("2u00"),s=(a("y35B"),a("22Zk")),p=a("06fe"),c=(l.a,p.a,s.a,o.a,i.a,n.a,{name:"play_records",extends:l.a,components:{InfoTableItem:p.a,InputArea:s.a,SelectTime:o.a,InfoTable:i.a,PermissionButton:n.a},data:function(){return{pagesize:10,currentPage:1,total:0,formLabelWidth:"120px",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},allGameType:[],format:{session:"",id:"",dateArr:[new Date((new Date).getTime()-6048e5),new Date]},tableStyle:[{label:"牌局号",prop:"table_gid",width:""},{label:"房间类型",prop:"table_name",width:""},{label:"游戏时间(开始)",prop:"begin_time",width:""},{label:"游戏时间(结束)",prop:"end_time",width:""},{label:"参与人数/机器人",prop:"all_user_count",width:""},{label:"玩家总输赢",prop:"total_win",width:""},{label:"台费",prop:"total_fee",width:""},{label:"玩家id",prop:"true_user",width:""},{label:"操作",prop:"action",width:"150"}],records:[],pageInfo:new r.a(0,[5,10,15],5),dialogFormVisible:!1,form:{user_id:"",pay_type:"1",goods_type:100,money:"",check_money:""}}},methods:{getPlayList:function(){var e=this,t={page:this.currentPage,limit:this.pagesize};this.$http.get("v1/backend/operation/play/records",{params:t}).then(function(t){console.log(t),200===t.data.code&&(e.records=t.data.data,e.total=t.data.total)})},search:function(){},searchData:function(){var e=this,t={page:this.currentPage,limit:this.pagesize,table_type:Number(this.format.session),user_id:Number(this.format.id),start_time:this.format.dateArr?parseInt(new Date(Number(this.format.dateArr[0])).getTime()/1e3):0,end_time:this.format.dateArr?parseInt(new Date(Number(this.format.dateArr[1])).getTime()/1e3):0};this.$http.get("v1/backend/operation/play/records",{params:t}).then(function(t){console.log(t),200===t.data.code&&(e.records=t.data.data,e.total=t.data.total)})},getAllGameType:function(){var e=this;this.$http.get("v1/backend/operation/game-type").then(function(t){console.log(t),200===t.data.code&&(e.allGameType=t.data.data)})},handleEdit:function(e){console.log(e)},handleSizeChange:function(e){this.pagesize=e,this.getPlayList()},handleCurrentChange:function(e){this.currentPage=e,this.getPlayList()}},mounted:function(){this.getPlayList(),this.getAllGameType()}}),d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"GamblingRecord-main"}},[a("input-area",[a("span",[e._v("场次")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:"",size:"medium"},model:{value:e.format.session,callback:function(t){e.$set(e.format,"session",t)},expression:"format.session"}},e._l(e.allGameType,function(e){return a("el-option",{key:e.game_id,attrs:{label:e.game_name,value:e.game_id}})}),1),e._v(" "),a("span",[e._v("账号ID")]),e._v(" "),a("el-input",{staticStyle:{width:"20%"},attrs:{placeholder:"请输入账号id"},model:{value:e.format.id,callback:function(t){e.$set(e.format,"id",t)},expression:"format.id"}}),e._v(" "),a("span",[e._v("时间范围")]),e._v(" "),a("el-date-picker",{attrs:{type:"datetimerange","picker-options":e.pickerOptions,"range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",align:"right",clearable:!1},model:{value:e.format.dateArr,callback:function(t){e.$set(e.format,"dateArr",t)},expression:"format.dateArr"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.searchData}},[e._v("查找")]),e._v(" "),a("el-button",{attrs:{type:"primary"}},[e._v("导出excel")])],1),e._v(" "),a("div",{staticClass:"bd"},[a("info-table",{directives:[{name:"has",rawName:"v-has",value:"play_lists",expression:"'play_lists'"}],attrs:{search:e.search,"table-style":e.tableStyle,records:e.records,"page-info":e.pageInfo,"hide-page":!0}},[a("info-table-item",{attrs:{"table-style":e.tableStyle},scopedSlots:e._u([{key:"default",fn:function(t){return["begin_time".indexOf(t.prop)>=0?[a("span",[e._v(e._s(e._f("dateFormat")(t.row.begin_time)))])]:e._e(),e._v(" "),"end_time".indexOf(t.prop)>=0?[a("span",[e._v(e._s(e._f("dateFormat")(t.row.end_time)))])]:e._e(),e._v(" "),"all_user_count".indexOf(t.prop)>=0?[a("span",[e._v(e._s(t.row.all_user_count+"/"+t.row.true_user_count))])]:e._e(),e._v(" "),"action"===t.prop?[a("el-button",{directives:[{name:"has",rawName:"v-has",value:"play_detail",expression:"'play_detail'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.handleEdit(t.row)}}},[e._v("详情")])]:e._e(),e._v(" "),["action","all_user_count","begin_time","end_time"].indexOf(t.prop)<0?[e._v(e._s(t.row[t.prop]))]:e._e()]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.currentPage,"page-sizes":[10,15,20],"page-size":e.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"添加人工订单",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{attrs:{model:e.form}},[a("el-form-item",{attrs:{label:"用户id","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入用户id"},model:{value:e.form.user_id,callback:function(t){e.$set(e.form,"user_id",t)},expression:"form.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"付款方式","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"人工充值"},model:{value:e.form.pay_type,callback:function(t){e.$set(e.form,"pay_type",t)},expression:"form.pay_type"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品类型","label-width":e.formLabelWidth}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择"},model:{value:e.form.goods_type,callback:function(t){e.$set(e.form,"goods_type",t)},expression:"form.goods_type"}},[a("el-option",{attrs:{label:"金币",value:"gold"}}),e._v(" "),a("el-option",{attrs:{label:"现金",value:"money"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"金额","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请输入金额"},model:{value:e.form.money,callback:function(t){e.$set(e.form,"money",t)},expression:"form.money"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"确认金额","label-width":e.formLabelWidth}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"请确认输入金额"},model:{value:e.form.check_money,callback:function(t){e.$set(e.form,"check_money",t)},expression:"form.check_money"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var m=a("C7Lr")(c,d,!1,function(e){a("Cqv5")},"data-v-f30d3e34",null);t.default=m.exports}});
//# sourceMappingURL=9.0f73eb92d514fa254a2b.js.map