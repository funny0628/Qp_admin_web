webpackJsonp([5],{"7AuY":function(t,e,a){"use strict";var i=a("Zx67"),r=a.n(i),o=a("Zrlr"),n=a.n(o),l=a("wxAW"),s=a.n(l),c=a("zwoO"),d=a.n(c),u=a("Pf15"),m=a.n(u),f=function(t){function e(){return n()(this,e),d()(this,(e.__proto__||r()(e)).apply(this,arguments))}return m()(e,t),s()(e,[{key:"list",value:function(t){return this.get_v1("/list",t)}},{key:"add",value:function(t){return this.set_v1("/add",t)}},{key:"set",value:function(t){return this.set_v1("/set",t)}}]),e}(a("7eGh").a);e.a=new f("/tier")},"97PE":function(t,e){},k4eP:function(t,e,a){"use strict";var i=a("mvHQ"),r=a.n(i),o={set:function(t,e){localStorage.setItem(t,r()(e))},get:function(t,e){localStorage.getItem(t,r()(e))},remove:function(t){localStorage.removeItem(t)}};e.a=o},zLRP:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("2u00"),r=a("fftp"),o=a("Z/hU"),n=a("zhQY"),l=a("22Zk"),s=a("7AuY"),c=a("06fe"),d=a("k4eP"),u=(o.a,l.a,i.a,r.a,c.a,{name:"Level",extends:o.a,components:{InputArea:l.a,PermissionButton:i.a,InfoTable:r.a,InfoTableItem:c.a},data:function(){return{tableStyle:[{label:"层级ID",prop:"tier",width:""},{label:"层级名称",prop:"tier_name",width:""},{label:"别名",prop:"tier_alias",width:""},{label:"操作",prop:"action",width:""}],records:[{tier:"1",tier_name:"第一级代理",tier_alias:"董事长",action:[{label:"修改",type:"edit"}]}],pageInfo:new n.a(4,[5,10,15],4),dialogTitleType:"",dialogVisible:!1,labelWidth:"70px",dataForm:{tier:"",hierarchy_name:"",alias:""}}},methods:{search:function(){},handelAddClick:function(){this.dataForm.tier="",this.dataForm.hierarchy_name="",this.dataForm.alias="",this.dialogTitleType="新增代理分层",this.dialogVisible=!0},handleClick:function(t,e){"edit"===t.type&&(this.dialogTitleType="修改代理分层",this.dialogVisible=!0,this.dataForm.hierarchy_name=e.tier_name,this.dataForm.alias=e.tier_alias,this.dataForm.tier=e.tier)},getList:function(){var t=this;s.a.list().promise.then(function(e){200===Number(e.code)&&(t.records=e.data,d.a.set("list",t.records)),t.records.map(function(t){t.action=[{label:"修改",type:"edit"}]})})},addLevel:function(){var t=this;this.$refs.dataForm.validate(function(e){if(e)if(t.dataForm.tier){var a={tier:t.dataForm.tier,tier_name:t.dataForm.hierarchy_name,tier_alias:t.dataForm.alias};s.a.set(a).promise.then(function(e){200===Number(e.code)&&t.$message.success(e.msg),t.dialogVisible=!1,t.$refs.dataForm.resetFields(),t.getList()}).catch(function(t){console.log(t)})}else{var i={tier_name:t.dataForm.hierarchy_name,tier_alias:t.dataForm.alias};s.a.add(i).promise.then(function(e){200===Number(e.code)&&t.$message.success(e.msg),t.dialogVisible=!1,t.getList(),t.$refs.dataForm.resetFields()}).catch(function(t){console.log(t)})}})}},mounted:function(){this.getList()},watch:{}}),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"Level-main"}},[a("input-area",[a("permission-button",{attrs:{action:t.ActionType.ADD},on:{click:function(e){return t.handelAddClick()}}},[a("el-button",{attrs:{type:"primary",size:"medium"}},[t._v("新增")])],1)],1),t._v(" "),a("div",{staticClass:"bd"},[a("info-table",{attrs:{search:t.search,"table-style":t.tableStyle,records:t.records,"page-info":t.pageInfo,hidePage:!0}},[a("info-table-item",{attrs:{"table-style":t.tableStyle},scopedSlots:t._u([{key:"default",fn:function(e){return["action"===e.prop?t._l(e.row[e.prop],function(i,r){return a("permission-button",{key:r,staticStyle:{cursor:"pointer","padding-left":"5px"},attrs:{action:i.type},on:{click:function(a){return t.handleClick(i,e.row)}}},[a("span",[t._v(t._s(i.label))])])}):t._e(),t._v(" "),["action"].indexOf(e.prop)<0?[t._v(t._s(e.row[e.prop]))]:t._e()]}}])})],1)],1),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitleType,visible:t.dialogVisible,width:"25%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"dataForm",attrs:{model:t.dataForm}},[a("el-form-item",{attrs:{label:"层级名称","label-width":t.labelWidth,prop:"hierarchy_name"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.hierarchy_name,callback:function(e){t.$set(t.dataForm,"hierarchy_name",e)},expression:"dataForm.hierarchy_name"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"别名","label-width":t.labelWidth,prop:"alias"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:t.dataForm.alias,callback:function(e){t.$set(t.dataForm,"alias",e)},expression:"dataForm.alias"}})],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.addLevel}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var f=a("VU/8")(u,m,!1,function(t){a("97PE")},"data-v-244001d8",null);e.default=f.exports}});
//# sourceMappingURL=5.ef087661d2deb99cde08.js.map