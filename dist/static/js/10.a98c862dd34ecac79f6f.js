webpackJsonp([10],{o2He:function(e,t){},vsM9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("lC5x"),n=s.n(a),i=s("MgeX"),l=s.n(i),r=s("3cXf"),c=s.n(r),o=s("J0Oq"),u=s.n(o),d={name:"hl_fish_fire_config",data:function(){return{list:[],id:0,keys:"",loading:!1,allData:{}}},created:function(){var e=this;return u()(n.a.mark(function t(){var s,a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.HallFunConfig.Getfishing_guns({key:"fishing_guns.lua"});case 2:s=t.sent,a=s.data,e.id=a.data[0].id,e.keys=a.data[0].sys_key,i=JSON.parse(a.data[0].sys_val),e.allData=JSON.parse(c()(i)),e.list=l()(i);case 9:case"end":return t.stop()}},t,e)}))()},methods:{add:function(){this.list.push({vip_level:"",name:"",id:"",power:""})},submit:function(e){var t=this;return u()(n.a.mark(function s(){var a,i,l,r,o,u;return n.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:a=0;case 1:if(!(a<t.list.length)){s.next=12;break}if(""!==t.list[a].vip_level&&""!==t.list[a].name&&""!==t.list[a].id&&""!==t.list[a].power&&!isNaN(t.list[a].vip_level)&&!isNaN(t.list[a].id)){s.next=7;break}return t.$message({type:"warning",message:"输入正确格式的数字,必填项不能为空!!"}),s.abrupt("return",!1);case 7:t.list[a].vip_level=+t.list[a].vip_level,t.list[a].id=+t.list[a].id;case 9:a++,s.next=1;break;case 12:if(i={},t.list.forEach(function(e,t){i[t+1]=e}),1!==e){s.next=22;break}return s.next=17,t.$http.HallFunConfig.Putfishing_guns({keys:t.keys,values:c()(i),id:t.id});case 17:l=s.sent,1===(r=l.data).code&&"ok"===r.msg?t.$message({type:"success",message:"保存成功!"}):t.$message({type:"warning",message:"保存失败!"}),s.next=29;break;case 22:if(2!==e){s.next=29;break}return t.loading=!0,s.next=26,t.$http.HallFunConfig.Postfishing_guns({keys:t.keys,values:c()(i),id:t.id});case 26:o=s.sent,1===(u=o.data).code&&"ok"===u.msg?(t.loading=!1,t.$message({type:"success",message:"发送到服务器配置成功!"})):(t.loading=!1,t.$message({type:"warning",message:"发送服务器配置失败!"}));case 29:case"end":return s.stop()}},s,t)}))()},del:function(e){var t=this;this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.list.splice(e,1),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},v={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"batteryConfig","element-loading-text":"正在上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[e._m(0),e._v(" "),s("div",{staticClass:"contain"},[s("div",{staticClass:"botton"},[s("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")]),e._v(" "),s("el-button",{directives:[{name:"has",rawName:"v-has",value:"hl_fish_fire_config_save",expression:"'hl_fish_fire_config_save'"}],attrs:{type:"primary"},on:{click:function(t){return e.submit(1)}}},[e._v("保存")]),e._v(" "),s("el-button",{directives:[{name:"has",rawName:"v-has",value:"hl_fish_fire_config_send",expression:"'hl_fish_fire_config_send'"}],attrs:{type:"primary"},on:{click:function(t){return e.submit(2)}}},[e._v("发送给服务器配置")])],1),e._v(" "),e._l(e.list,function(t,a){return s("div",{directives:[{name:"has",rawName:"v-has",value:"hl_fish_fire_config_detail",expression:"'hl_fish_fire_config_detail'"}],key:a,staticClass:"table"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"id"},model:{value:t.id,callback:function(s){e.$set(t,"id",s)},expression:"item.id"}})],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"vip等级"},model:{value:t.vip_level,callback:function(s){e.$set(t,"vip_level",s)},expression:"item.vip_level"}})],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"名称"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}})],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"power"},model:{value:t.power,callback:function(s){e.$set(t,"power",s)},expression:"item.power"}})],1),e._v(" "),s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.del(a)}}},[e._v("删除")])],1)],1)],1)})],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"VIP"},[this._v("扑鱼VIP炮台配置")])])}]};var p=s("C7Lr")(d,v,!1,function(e){s("o2He")},"data-v-c334a5a8",null);t.default=p.exports}});