{"version":3,"sources":["webpack:///./src/pages/OperationMan/FishStatistic.vue","webpack:///./src/pages/OperationMan/FishStatistic.vue?8ee1","webpack:///./src/pages/OperationMan/FishStatistic.vue?251b"],"names":["OperationMan_FishStatistic","BaseIframe","InfoTableItem","InputArea","SelectTime","InfoTable","PermissionButton","name","extends","components","data","pagesize","currentPage","total","dialogFormVisible","pickerOptions","shortcuts","text","onClick","picker","end","Date","start","setTime","getTime","$emit","format","play_id","dateArr","tableStyle","label","prop","width","records","recordTableData","pageInfo","PageInfo","methods","getFishList","_this","this","params","user_id","Number","start_time","parseInt","end_time","$http","get","then","res","console","log","code","searchData","handleRecord","row","_this2","uid","handleSizeChange","val","handleCurrentChange","mounted","pages_OperationMan_FishStatistic","render","_vm","_h","$createElement","_c","_self","attrs","id","placeholder","size","clearable","model","value","callback","$$v","$set","expression","_v","type","picker-options","range-separator","start-placeholder","end-placeholder","align","on","click","staticClass","table-style","page-info","hide-page","scopedSlots","_u","key","fn","scope","indexOf","_s","fish_value","bullet_value","toFixed","_e","$event","staticStyle","margin-top","current-page","page-sizes","page-size","layout","size-change","current-change","title","visible","update:visible","border","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/59.3dac8ccd743d22e844a6.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport SelectTime from \"../../plugin/components/SelectTime\";\nimport InfoTable from \"../../plugin/components/InfoTable\";\nimport PageInfo from \"../../plugin/script/common/PageInfo\";\nimport BaseIframe from \"../../plugin/script/common/BaseIframe\";\nimport PermissionButton from \"../../plugin/components/PermissionButton\";\nimport UserHandler from \"../../script/handlers/UserHandler\";\nimport InputArea from \"../../plugin/components/InputArea\";\nimport InfoTableItem from \"../../plugin/components/InfoTableItem\";\n\nexport default {\n  name: \"fish_statistic\",\n  extends: BaseIframe,\n  components: {\n    InfoTableItem,\n    InputArea,\n    SelectTime,\n    InfoTable,\n    PermissionButton\n  },\n  data() {\n    return {\n      pagesize: 10,\n      currentPage: 1,\n      total: 0,\n      dialogFormVisible: false,\n      pickerOptions: {\n        shortcuts: [\n          {\n            text: \"最近一周\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 7);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近一个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 30);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          },\n          {\n            text: \"最近三个月\",\n            onClick(picker) {\n              const end = new Date();\n              const start = new Date();\n              start.setTime(start.getTime() - 3600 * 1000 * 24 * 90);\n              picker.$emit(\"pick\", [start, end]);\n            }\n          }\n        ]\n      },\n      format: {\n        play_id: \"\",\n        // play_counter: \"\",\n        dateArr: [\n          new Date(new Date().getTime() - 3600 * 1000 * 24 * 7),\n          new Date()\n        ]\n      },\n      tableStyle: [\n        { label: \"玩家id\", prop: \"uid\", width: \"\" },\n        { label: \"子弹发送总量\", prop: \"total_bullet\", width: \"\" },\n        { label: \"子弹价值\", prop: \"bullet_value\", width: \"\" },\n        { label: \"鱼总价值\", prop: \"fish_value\", width: \"\" },\n        { label: \"收支\", prop: \"payment\", width: \"\" },\n        { label: \"操作\", prop: \"action\", width: \"150\" }\n      ],\n      records: [],\n      recordTableData: [],\n      pageInfo: new PageInfo(0, [5, 10, 15], 5)\n    };\n  },\n  methods: {\n    getFishList() {\n      let params = {\n        user_id: Number(this.format.play_id),\n        start_time: this.format.dateArr\n          ? parseInt(new Date(Number(this.format.dateArr[0])).getTime() / 1000)\n          : 0,\n        end_time: this.format.dateArr\n          ? parseInt(new Date(Number(this.format.dateArr[1])).getTime() / 1000)\n          : 0\n      };\n      this.$http\n        .get(\"v1/backend/operation/fishes\", {\n          params\n        })\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 200) {\n            this.records = res.data.data;\n            this.total = res.data.total;\n          }\n        });\n    },\n    /**搜索*/\n    searchData() {\n      this.getFishList()\n    },\n    handleRecord(row) {\n      console.log(row);\n      this.dialogFormVisible = true;\n      let params = {\n        user_id: Number(row.uid),\n        start_time: this.format.dateArr\n          ? parseInt(new Date(Number(this.format.dateArr[0])).getTime() / 1000)\n          : 0,\n        end_time: this.format.dateArr\n          ? parseInt(new Date(Number(this.format.dateArr[1])).getTime() / 1000)\n          : 0\n      };\n      this.$http\n        .get(\"v1/backend/operation/fish-data\", {\n          params\n        })\n        .then(res => {\n          console.log(res);\n          if (res.data.code === 200) {\n            this.recordTableData = res.data.data;\n          }\n        });\n    },\n    handleSizeChange(val) {\n      this.pagesize = val;\n      this.getFishList();\n    },\n    handleCurrentChange(val) {\n      this.currentPage = val;\n      this.getFishList();\n    }\n  },\n  mounted() {\n    this.getFishList();\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/OperationMan/FishStatistic.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"FishStatistic-main\"}},[_c('input-area',[_c('el-input',{attrs:{\"placeholder\":\"请输入玩家id\",\"size\":\"medium\",\"clearable\":\"\"},model:{value:(_vm.format.play_id),callback:function ($$v) {_vm.$set(_vm.format, \"play_id\", $$v)},expression:\"format.play_id\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"时间范围\")]),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"type\":\"datetimerange\",\"picker-options\":_vm.pickerOptions,\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"align\":\"right\",\"clearable\":false},model:{value:(_vm.format.dateArr),callback:function ($$v) {_vm.$set(_vm.format, \"dateArr\", $$v)},expression:\"format.dateArr\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"},on:{\"click\":_vm.searchData}},[_vm._v(\"查询\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"bd\"},[_c('info-table',{attrs:{\"table-style\":_vm.tableStyle,\"records\":_vm.records,\"page-info\":_vm.pageInfo,\"hide-page\":true}},[_c('info-table-item',{attrs:{\"table-style\":_vm.tableStyle},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [('payment'.indexOf(scope.prop) >= 0)?[_c('span',[_vm._v(_vm._s(Number(Number(scope.row.fish_value) - Number(scope.row.bullet_value)).toFixed(2)))])]:_vm._e(),_vm._v(\" \"),(scope.prop === 'action')?[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"primary\"},on:{\"click\":function($event){return _vm.handleRecord(scope.row)}}},[_vm._v(\"记录\")])]:_vm._e(),_vm._v(\" \"),(['action'].indexOf(scope.prop) < 0)?[_vm._v(_vm._s(scope.row[scope.prop]))]:_vm._e()]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"margin-top\":\"20px\"},attrs:{\"current-page\":_vm.currentPage,\"page-sizes\":[10, 15, 20],\"page-size\":_vm.pagesize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"捕鱼记录\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.recordTableData,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"create_date\",\"label\":\"时间\",\"width\":\"180\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"bullet_value\",\"label\":\"子弹总价值\",\"width\":\"180\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fish_value\",\"label\":\"鱼价值\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"收支\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',[_vm._v(_vm._s(Number(Number(scope.row.fish_value) - Number(scope.row.bullet_value)).toFixed(2)))])]}}])})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5a176b47\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vux-loader/src/before-template-compiler-loader.js!./node_modules/vux-loader/src/template-loader.js!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/OperationMan/FishStatistic.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-5a176b47\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vux-loader/src/style-loader.js!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./FishStatistic.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FishStatistic.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vux-loader/src/script-loader.js!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./FishStatistic.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5a176b47\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vux-loader/src/before-template-compiler-loader.js!../../../node_modules/vux-loader/src/template-loader.js!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./FishStatistic.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-5a176b47\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/OperationMan/FishStatistic.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}