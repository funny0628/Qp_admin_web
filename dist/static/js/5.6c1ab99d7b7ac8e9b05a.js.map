{"version":3,"sources":["webpack:///./src/script/handlers/tierHandler.js","webpack:///./src/script/storage/storage.js","webpack:///./src/pages/Agent/Level.vue","webpack:///./src/pages/Agent/Level.vue?587d","webpack:///./src/pages/Agent/Level.vue?58f6"],"names":["TierHandler","data","this","get_v1","set_v1","BaseHandler","__webpack_exports__","storage","set","key","value","localStorage","setItem","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","get","getItem","remove","removeItem","Agent_Level","BaseIframe","InputArea","PermissionButton","InfoTable","InfoTableItem","name","extends","components","tableStyle","label","prop","width","records","tier","tier_name","tier_alias","action","type","pageInfo","PageInfo","dialogTitleType","dialogVisible","labelWidth","dataForm","hierarchy_name","alias","methods","search","handelAddClick","handleClick","btn","row","getList","_this","tierHandler","list","promise","then","res","Number","code","map","item","addLevel","_this2","$refs","validate","valid","$message","success","msg","resetFields","catch","e","console","log","add","mounted","watch","pages_Agent_Level","render","_vm","_h","$createElement","_c","_self","attrs","id","ActionType","ADD","on","click","$event","size","_v","staticClass","table-style","page-info","hidePage","scopedSlots","_u","fn","scope","_l","index","staticStyle","cursor","padding-left","_s","_e","indexOf","title","visible","update:visible","ref","model","label-width","autocomplete","callback","$$v","$set","expression","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext"],"mappings":"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","file":"static/js/5.6c1ab99d7b7ac8e9b05a.js","sourcesContent":["import BaseHandler from \"./BaseHandler\";\n// 代理层级管理\nclass TierHandler extends BaseHandler {\n  list(data) {\n    return this.get_v1(\"/list\", data);\n  }\n  add(data) {\n    return this.set_v1(\"/add\", data);\n  }\n  set(data) {\n    return this.set_v1(\"/set\", data);\n  }\n}\n\nexport default new TierHandler(\"/tier\");\n\n\n\n// WEBPACK FOOTER //\n// ./src/script/handlers/tierHandler.js","//封装操作localstorage本地存储的方法\nvar storage = {\n  //存储数据\n  set(key,value){\n    localStorage.setItem(key,JSON.stringify(value));\n  },\n  //取数据\n  get(key,value) {\n    localStorage.getItem(key,JSON.stringify(value));\n  },\n  //删除数据\n  remove(key){\n    localStorage.removeItem(key);\n  }\n};\n//暴露给外部使用\nexport default storage;\n\n\n\n// WEBPACK FOOTER //\n// ./src/script/storage/storage.js","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport PermissionButton from \"../../plugin/components/PermissionButton\";\nimport InfoTable from \"../../plugin/components/InfoTable\";\nimport BaseIframe from \"../../plugin/script/common/BaseIframe\";\nimport PageInfo from \"../../plugin/script/common/PageInfo\";\nimport InputArea from \"../../plugin/components/InputArea\";\nimport tierHandler from \"./../../script/handlers/tierHandler\";\nimport InfoTableItem from \"../../plugin/components/InfoTableItem\";\nimport storage from \"./../../script/storage/storage\";\n\nexport default {\n  name: \"Level\",\n  extends: BaseIframe,\n  components: { InputArea, PermissionButton, InfoTable, InfoTableItem },\n  data() {\n    return {\n      //表格数据\n      tableStyle: [\n        { label: \"层级ID\", prop: \"tier\", width: \"\" },\n        { label: \"层级名称\", prop: \"tier_name\", width: \"\" },\n        { label: \"别名\", prop: \"tier_alias\", width: \"\" },\n        { label: \"操作\", prop: \"action\", width: \"\" }\n      ],\n      records: [\n        {\n          tier: \"1\",\n          tier_name: \"第一级代理\",\n          tier_alias: \"董事长\",\n          action: [{ label: \"修改\", type: \"edit\" }]\n        }\n      ],\n      pageInfo: new PageInfo(4, [5, 10, 15], 4),\n      //新增、编辑数据\n      dialogTitleType: \"\",\n      dialogVisible: false,\n      labelWidth: \"70px\",\n      dataForm: {\n        tier: \"\", //id\n        hierarchy_name: \"\", //层级名称\n        alias: \"\" //别名\n      }\n    };\n  },\n  methods: {\n    search() {},\n    //新增代理层\n    handelAddClick() {\n      this.dataForm.tier = \"\";\n      this.dataForm.hierarchy_name = \"\";\n      this.dataForm.alias = \"\";\n      this.dialogTitleType = \"新增代理分层\";\n      this.dialogVisible = true;\n    },\n    //修改代理层\n    handleClick(btn, row) {\n      if (btn.type === \"edit\") {\n        this.dialogTitleType = \"修改代理分层\";\n        this.dialogVisible = true;\n        this.dataForm.hierarchy_name = row.tier_name;\n        this.dataForm.alias = row.tier_alias;\n        this.dataForm.tier = row.tier;\n      }\n    },\n    //代理层级\n    getList() {\n      tierHandler.list().promise.then(res => {\n        if (Number(res.code) === 200) {\n          // cache = res.data;\n          this.records = res.data;\n          storage.set(\"list\", this.records);\n        }\n        //数据处理\n        this.records.map(item => {\n          item.action = [{ label: \"修改\", type: \"edit\" }];\n        });\n      });\n    },\n    /**增加代理分层*/\n    addLevel() {\n      this.$refs.dataForm.validate(valid => {\n        if (valid) {\n          if (!this.dataForm.tier) {\n            let data = {\n              tier_name: this.dataForm.hierarchy_name,\n              tier_alias: this.dataForm.alias\n            };\n            tierHandler\n              .add(data)\n              .promise.then(res => {\n                if (Number(res.code) === 200) {\n                  this.$message.success(res.msg);\n                }\n                this.dialogVisible = false;\n                this.getList();\n                this.$refs[\"dataForm\"].resetFields(); // 失效\n              })\n              .catch(e => {\n                // 打印一下错误\n                console.log(e);\n              });\n          } else {\n            //修改代理分层\n            let data = {\n              tier: this.dataForm.tier,\n              tier_name: this.dataForm.hierarchy_name,\n              tier_alias: this.dataForm.alias\n            };\n            tierHandler\n              .set(data)\n              .promise.then(res => {\n                if (Number(res.code) === 200) {\n                  this.$message.success(res.msg);\n                }\n                this.dialogVisible = false;\n                this.$refs[\"dataForm\"].resetFields(); // 失效\n                this.getList();\n              })\n              .catch(e => {\n                console.log(e);\n              });\n          }\n        }\n      });\n    }\n  },\n  mounted() {\n    this.getList();\n  },\n  watch: {}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/Agent/Level.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"Level-main\"}},[_c('input-area',[_c('permission-button',{attrs:{\"action\":_vm.ActionType.ADD},on:{\"click\":function($event){return _vm.handelAddClick()}}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"medium\"}},[_vm._v(\"新增\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"bd\"},[_c('info-table',{attrs:{\"search\":_vm.search,\"table-style\":_vm.tableStyle,\"records\":_vm.records,\"page-info\":_vm.pageInfo,\"hidePage\":true}},[_c('info-table-item',{attrs:{\"table-style\":_vm.tableStyle},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.prop === 'action')?_vm._l((scope.row[scope.prop]),function(btn,index){return _c('permission-button',{key:index,staticStyle:{\"cursor\":\"pointer\",\"padding-left\":\"5px\"},attrs:{\"action\":btn.type},on:{\"click\":function($event){return _vm.handleClick(btn,scope.row)}}},[_c('span',[_vm._v(_vm._s(btn.label))])])}):_vm._e(),_vm._v(\" \"),(['action'].indexOf(scope.prop) < 0)?[_vm._v(_vm._s(scope.row[scope.prop]))]:_vm._e()]}}])})],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":_vm.dialogTitleType,\"visible\":_vm.dialogVisible,\"width\":\"25%\"},on:{\"update:visible\":function($event){_vm.dialogVisible=$event}}},[_c('el-form',{ref:\"dataForm\",attrs:{\"model\":_vm.dataForm}},[_c('el-form-item',{attrs:{\"label\":\"层级名称\",\"label-width\":_vm.labelWidth,\"prop\":\"hierarchy_name\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.dataForm.hierarchy_name),callback:function ($$v) {_vm.$set(_vm.dataForm, \"hierarchy_name\", $$v)},expression:\"dataForm.hierarchy_name\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"别名\",\"label-width\":_vm.labelWidth,\"prop\":\"alias\"}},[_c('el-input',{attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.dataForm.alias),callback:function ($$v) {_vm.$set(_vm.dataForm, \"alias\", $$v)},expression:\"dataForm.alias\"}})],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.addLevel}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-244001d8\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/Agent/Level.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-244001d8\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./Level.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Level.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./Level.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-244001d8\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./Level.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-244001d8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/Agent/Level.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}