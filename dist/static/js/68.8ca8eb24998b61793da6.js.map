{"version":3,"sources":["webpack:///./src/pages/RepertoryMan/GMconfig_child/GMrepControl.vue","webpack:///./src/pages/RepertoryMan/GMconfig_child/GMrepControl.vue?76c8","webpack:///./src/pages/RepertoryMan/GMconfig_child/GMrepControl.vue?d914"],"names":["GMconfig_child_GMrepControl","InputArea","name","components","data","id","key","form","gm_coins","warn_coins","gm_add_coins","add_store","rules","required","message","trigger","formLabelWidth","created","this","initData","methods","send","formName","type","_ref","_this","$refs","validate","asyncToGenerator_default","regenerator_default","a","mark","_callee","valid","x","_ref2","_ref3","_data","wrap","_context","prev","next","$http","HallFunConfig","PutServerConfig","keys","values","stringify_default","sent","code","msg","$message","PostServerConfig","console","log","abrupt","stop","_x","_x2","apply","arguments","params","_this2","_callee2","_ref4","_context2","GetServerConfig","sys_key","JSON","parse","sys_val","RepertoryMan_GMconfig_child_GMrepControl","render","_vm","_h","$createElement","_c","_self","attrs","staticStyle","margin-top","margin-bottom","on","click","$event","_v","staticClass","width","model","prop","label","label-width","autocomplete","value","callback","$$v","$set","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/68.8ca8eb24998b61793da6.js","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport InputArea from \"../../../plugin/components/InputArea\";\nexport default {\n  name: \"GMrepControl\",\n  components: {\n    InputArea\n  },\n  data() {\n    return {\n      id: \"\",\n      key: \"\",\n      form: {\n        gm_coins: \"\",\n        warn_coins: \"\",\n        gm_add_coins: \"\",\n        add_store: \"\"\n      },\n      rules: {\n        gm_coins: [\n          { required: true, message: \"必填项不可以为空\", trigger: \"blur\" }\n        ],\n        warn_coins: [\n          { required: true, message: \"必填项不可以为空\", trigger: \"blur\" }\n        ],\n        gm_add_coins: [\n          { required: true, message: \"必填项不可以为空\", trigger: \"blur\" }\n        ],\n        add_store: [\n          { required: true, message: \"必填项不可以为空\", trigger: \"blur\" }\n        ]\n      },\n      formLabelWidth: \"150px\"\n    };\n  },\n  created() {\n    this.initData({ key: \"gm_control.lua\" });\n  },\n  methods: {\n    send(formName,type) {\n      this.$refs[formName].validate(async (valid, x) => {\n        if (valid) {\n          if (type === 1) {\n            //保存\n            // console.log(this.form);\n\n            let { data } = await this.$http.HallFunConfig.PutServerConfig({\n              keys: this.key,\n              values: JSON.stringify({ gm_coins: this.form }),\n              id: this.id\n            });\n            // console.log(data);\n            if (data.code === 1 && data.msg) {\n     \n              this.$message({\n                type: \"success\",\n                message: \"保存成功\"\n              });\n            }\n          } else {\n            //配置\n            let { data } = await this.$http.HallFunConfig.PostServerConfig({\n              keys: this.key,\n              values: JSON.stringify({ gm_coins: this.form }),\n              id: this.id\n            });\n            // console.log(data);\n            if (data.code === 1 && data.msg) {\n  \n              this.$message({\n                type: \"success\",\n                message: \"发送服务器配置成功\"\n              });\n            }\n          }\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n\n    async initData(params) {\n      let { data } = await this.$http.HallFunConfig.GetServerConfig(params);\n      // console.log(data);\n      this.key = data.data[0].sys_key;\n      this.id = data.data[0].id;\n      this.form = JSON.parse(data.data[0].sys_val).gm_coins;\n      // console.log(this.form);\n    }\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/RepertoryMan/GMconfig_child/GMrepControl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"GMrepControl-main\"}},[_c('input-area',[_c('el-button',{staticStyle:{\"margin-top\":\"10px\",\"margin-bottom\":\"10px\"},attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.send('form',1)}}},[_vm._v(\"保存\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.send('form',2)}}},[_vm._v(\"发送到服务器配置\")]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"gm\"},[_vm._v(\"GM库存控制\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"bd\"},[_c('el-form',{staticStyle:{\"width\":\"30%\"},attrs:{\"rules\":_vm.rules,\"model\":_vm.form}},[_c('el-form-item',{attrs:{\"prop\":\"gm_coins\",\"label\":\"实时库存值(元)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.gm_coins),callback:function ($$v) {_vm.$set(_vm.form, \"gm_coins\", $$v)},expression:\"form.gm_coins\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"warn_coins\",\"label\":\"警报值(元)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.warn_coins),callback:function ($$v) {_vm.$set(_vm.form, \"warn_coins\", $$v)},expression:\"form.warn_coins\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"gm_add_coins\",\"label\":\"库存累计添加值(元)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.gm_add_coins),callback:function ($$v) {_vm.$set(_vm.form, \"gm_add_coins\", $$v)},expression:\"form.gm_add_coins\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"prop\":\"add_store\",\"label\":\"添加库存(元)\",\"label-width\":_vm.formLabelWidth}},[_c('el-input',{staticStyle:{\"width\":\"200px\"},attrs:{\"autocomplete\":\"off\"},model:{value:(_vm.form.add_store),callback:function ($$v) {_vm.$set(_vm.form, \"add_store\", $$v)},expression:\"form.add_store\"}})],1),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-top\":\"10px\"},attrs:{\"type\":\"primary\"}},[_vm._v(\"添加库存\")])],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-40617f20\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!./node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/pages/RepertoryMan/GMconfig_child/GMrepControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-40617f20\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/style-loader.js!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./GMrepControl.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./GMrepControl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/script-loader.js!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./GMrepControl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-40617f20\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/before-template-compiler-loader.js!../../../../node_modules/_vux-loader@1.2.9@vux-loader/src/template-loader.js!../../../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./GMrepControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-40617f20\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/RepertoryMan/GMconfig_child/GMrepControl.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}