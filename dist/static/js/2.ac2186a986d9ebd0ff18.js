webpackJsonp([2],{"+3d+":function(e,t){},"5uZj":function(e,t,n){n("at0p"),n("f1e3"),e.exports=n("ZuHZ").Array.from},"FFj/":function(e,t){},IHPB:function(e,t,n){"use strict";t.__esModule=!0;var i,s=n("kfHR"),a=(i=s)&&i.__esModule?i:{default:i};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,a.default)(e)}},QsLs:function(e,t){},TPns:function(e,t){},TeE2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("IHPB"),s=n.n(i),a=n("4YfN"),o=n.n(a),r=n("kV13"),c=(String,{name:"Page",props:{firstView:{type:String,default:function(){return""}}},computed:{vue:function(){return this.pageList[this.pageName].vue||null}},data:function(){return{history:[],pageName:"",pageList:this.$pageInfo.pageList}},methods:{forward:function(e){var t=e.name,n=e.param||{},i=this.pageList[t];this.$pageInfo.to=t,this.$pageInfo.from=this.$options.name,this.$pageInfo.param=n;var s=this.history[this.history.length-1];i.parent===s?(this.history.push(t),this.pageName=t):t===this.pageList[this.pageName].parent?(this.history.splice(this.history.length-1,1),this.pageName=this.history[this.history.length-1]):this.$emit("forward",e)},back:function(e){this.history.length>0?(this.history.splice(this.history.length-1,1),this.pageName=this.history[this.history.length-1]):this.$emit("back")}},created:function(){this.pageName=this.firstView,this.history.push(this.pageName)},mounted:function(){},beforeDestroy:function(){this.history=[]},destroyed:function(){}}),l={render:function(){var e=this.$createElement,t=this._self._c||e;return t("keep-alive",[t(this.vue,{tag:"component",staticClass:"admin-page",attrs:{"page-name":this.pageName},on:{forward:this.forward,back:this.back}})],1)},staticRenderFns:[]};var u=n("C7Lr")(c,l,!1,function(e){n("TPns")},"data-v-46bbeeee",null).exports,d=n("c6y4"),h=n("ln59"),f=(d.a,Function,{name:"NavMenu",extends:d.a,props:{navClick:{type:Function,default:function(){return function(){}}}},data:function(){return{MODEL:h.a}},methods:{clickItem:function(e){this.$emit("clickItem",e)},close:function(){},open:function(){},getRightsList:function(e,t){if("[object Array]"!==Object.prototype.toString.call(e))for(var n in e){var i=e[n];t.indexOf(n)<0?delete e[n]:i.children&&i.children.length>0&&this.getRightsList(i.children,t)}else for(var s=e.length-1;s>=0;s--){var a=e[s];t.indexOf(a.name)<0?e.splice(s,1):a.children&&a.children.length>0&&this.getRightsList(a.children,t)}},get_permission_names:function(e){var t=[],n=[];return function e(i){i.forEach(function(i){i.children?(t.push(i.name),n.push(i.display_name),e(i.children)):(t.push(i.name),n.push(i.display_name))})}(e),console.log(n),t}},created:function(){var e=JSON.parse(localStorage.getItem("user_info"));console.log(e);var t=this.get_permission_names(e);console.log(t),this.getRightsList(h.a,t)}}),m={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"navMenu"}},[n("div",{staticClass:"logo"}),e._v(" "),n("el-menu",{attrs:{"default-active":"1"},on:{open:e.close,close:e.open}},e._l(e.MODEL,function(t,i){return n("el-submenu",{key:i,attrs:{index:(i+1).toString()}},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))]),e._v(" "),e._l(t.children,function(t,s){return t.children?e._e():n("el-menu-item",{key:s,attrs:{index:i+1+"-"+(s+1)},on:{click:function(n){return e.clickItem(t)}}},[e._v(e._s(t.text))])}),e._v(" "),e._l(t.children,function(t,s){return t.children?n("el-submenu",{key:s,attrs:{index:i+1+"-"+(s+1)}},[n("template",{slot:"title"},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.text))])]),e._v(" "),n("el-menu-item-group",e._l(t.children,function(t,a){return n("el-menu-item",{key:a,attrs:{index:i+1+"-"+(s+1)+"-"+(a+1)},on:{click:function(n){return e.clickItem(t)}}},[e._v(e._s(t.text))])}),1)],2):e._e()})],2)}),1)],1)},staticRenderFns:[]};var v=n("C7Lr")(f,m,!1,function(e){n("+3d+")},null,null).exports,p=n("HaFW"),g=n("7QxP"),w=n("Vetr"),_=n("E4C3"),I=n.n(_),y=(o()({},Object(g.b)(["isPhone"]),{items:function(){return[].concat(s()(this.showItems),s()(this.hideItems))}}),null),k={name:"Home",components:{NavMenu:v,Page:u},data:function(){return{defaultActive:"",activeName:"",showItems:[],hideItems:[],headerVue:p.a.headerVue,showNavMenu:!1}},methods:{init:function(){if(p.a.loopArray&&p.a.loopArray.length>0)for(var e=0;e<p.a.loopArray.length;e++)p.a.loopArray[e].start()},add:function(e){var t=y.$pageInfo.pageList[e],n=y.items.filter(function(t){return e===t.name});if(n.length<=0)y.showItems.unshift(t);else if(I.a.done(),(n=y.hideItems.filter(function(t){return e===t.name})).length>0){var i=y.hideItems.indexOf(n[0]);y.showItems.unshift(y.hideItems.splice(i,1)[0])}y.activeName=e,y.arrangeMenu()},del:function(e){var t=y.showItems.splice(e,1)[0];y.activeName=y.activeName===t.name?"":y.activeName,y.arrangeMenu("del"),y.defaultShow()},closeAll:function(){y.showItems=[],y.hideItems=[],y.activeName="",y.defaultShow()},arrangeMenu:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";y.$nextTick(function(){var t=y.$refs.quickMenu.clientWidth,n=0;if(y.$refs.quickNav)for(var i=0;i<y.$refs.quickNav.length;i++)n+=y.$refs.quickNav[i].clientWidth;t-n<80?y.hideItems.unshift(y.showItems.splice(y.showItems.length-1,1)[0]):"add"!==e&&y.hideItems.length>0&&y.showItems.push(y.hideItems.splice(0,1)[0])})},defaultShow:function(){0===y.showItems.length&&y.showItems.push(y.$pageInfo.pageList[y.defaultActive]),y.activeName||(y.activeName=y.showItems[0].name)},clickItem:function(e){y.add(e.name),y.isPhone&&(y.showNavMenu=!1)},forward:function(e){y.add(e.name)},back:function(){},closeNavMenu:function(e){e()},logout:function(){var e=this;this.$http.get("v1/backend/logout").then(function(t){console.log(t),200===t.data.code&&(e.$router.push({name:"login"}),e.$message({type:"success",message:t.data.msg}))})}},computed:o()({},Object(g.b)(["isPhone"]),{items:function(){return[].concat(s()(this.showItems),s()(this.hideItems))}}),watch:{activeName:{handler:function(e,t){r.default.prototype.$activePage=e}}},created:function(){y=this,console.log(y,"----------woshihome");var e="",t=y.$pageInfo.config;t.IS_DEBUG.state&&t.IS_DEBUG.activePage&&y.$pageInfo.pageList[t.IS_DEBUG.activePage]?(y.showItems=[y.$pageInfo.pageList[t.IS_DEBUG.activePage]],e=t.IS_DEBUG.activePage):(y.showItems=[y.$pageInfo.pageList[t.ACTIVE_PAGE]],e=t.ACTIVE_PAGE),y.defaultActive=e,y.activeName=e},mounted:function(){y.init(),y.$forceUpdate();var e=document.body.offsetWidth;y.$store.commit(w.a,e<=780),window.onresize=function(){y.$nextTick(function(){e=document.body.offsetWidth,y.$store.commit(w.a,e<=780),y.$forceUpdate()})}}},x={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.isPhone?"is-phone":"",attrs:{id:"home"}},[n("el-row",{staticClass:"admin-box content-100 rel"},[e.isPhone?n("el-drawer",{staticClass:"menu-drawer",attrs:{size:"160px",title:"","show-close":!1,visible:e.showNavMenu,direction:"ltr","before-close":e.closeNavMenu},on:{"update:visible":function(t){e.showNavMenu=t}}},[n("div",{staticClass:"nav-menu-box"},[n("nav-menu",{on:{clickItem:e.clickItem}})],1)]):n("el-col",{staticClass:"nav-menu-box",attrs:{xs:4,sm:4,md:4,lg:3}},[n("nav-menu",{on:{clickItem:e.clickItem}})],1),e._v(" "),n("el-col",{staticClass:"container f-l cnt-box",attrs:{xs:20,sm:20,md:20,lg:21}},[n("div",{staticClass:"header-box"},[n("el-row",{staticClass:"header"},[e.isPhone?n("el-col",{attrs:{xs:6}},[n("a",{staticClass:"btn-menu",on:{click:function(t){e.showNavMenu=!e.showNavMenu}}})]):e._e(),e._v(" "),e.isPhone?e._e():n("el-col",{staticClass:"header-row hidden-xs-only",attrs:{sm:12,md:12,lg:12}},[n("span",[e._v("本次登陆IP: 192.168.1.1")])]),e._v(" "),n("el-col",{staticClass:"header-row",staticStyle:{"justify-content":"flex-end"},attrs:{xs:14,sm:10,md:10,lg:10}},[e.headerVue?[n(e.headerVue,{tag:"component",on:{forward:e.forward}})]:[n("div",{staticClass:"btn-area"},[n("a",{staticClass:"btn-message"}),e._v(" "),n("a",{staticClass:"btn-settings"}),e._v(" "),n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link"},[e._v("\n                    admin\n                    "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[e._v("黄金糕")]),e._v(" "),n("el-dropdown-item",[e._v("狮子头")]),e._v(" "),n("el-dropdown-item",[e._v("螺蛳粉")]),e._v(" "),n("el-dropdown-item",{attrs:{disabled:""}},[e._v("双皮奶")]),e._v(" "),n("el-dropdown-item",{attrs:{divided:""}},[e._v("蚵仔煎")])],1)],1)],1)]],2),e._v(" "),n("el-col",{attrs:{xs:4,sm:2,md:2,lg:2}},[n("div",{staticStyle:{width:"50px",height:"20px","background-color":"#00ff00","text-align":"center",cursor:"pointer"},on:{click:e.logout}},[e._v("退出")])])],1),e._v(" "),n("div",{ref:"quickMenu",staticClass:"nav-menu rel"},[e._l(e.showItems,function(t,i){return n("a",{key:i,ref:"quickNav",refInFor:!0,staticClass:"btn-nav",class:t.name===e.activeName?"active":"",on:{click:function(n){return e.clickItem(t)}}},[e._v("\n            "+e._s(t.text)+"\n            "),n("a",{staticClass:"btn-close iconfont icon-guanbi",on:{click:function(t){return t.stopPropagation(),e.del(i)}}})])}),e._v(" "),n("div",{staticClass:"arrow-down"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("div",{staticClass:"btn-arrow-down"},[n("i",{staticClass:"el-icon-arrow-down"})]),e._v(" "),n("el-dropdown-menu",{staticStyle:{"max-height":"520px",overflow:"auto"},attrs:{slot:"dropdown"},slot:"dropdown"},[e._l(e.hideItems,function(t,i){return n("el-dropdown-item",{key:i,nativeOn:{click:function(n){return e.add(t.name)}}},[e._v(e._s(t.text))])}),e._v(" "),n("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:e.items.length>0,expression:"items.length > 0"}],attrs:{divided:""},nativeOn:{click:function(t){return e.closeAll()}}},[e._v("关闭所有")])],2)],1)],1)],2)],1),e._v(" "),n("div",{staticClass:"main-box"},e._l(e.items,function(t,i){return n("page",{directives:[{name:"show",rawName:"v-show",value:t.name===e.activeName,expression:"item.name === activeName"}],key:t.name,attrs:{"first-view":t.name,params:{}},on:{forward:e.forward,back:function(t){return e.del(i)}}})}),1)])],1)],1)},staticRenderFns:[]};var b=n("C7Lr")(k,x,!1,function(e){n("QsLs"),n("FFj/")},"data-v-0215fa4b",null);t.default=b.exports},f1e3:function(e,t,n){"use strict";var i=n("VfK5"),s=n("Wtcz"),a=n("WXuS"),o=n("f9MG"),r=n("9Ntz"),c=n("n/58"),l=n("yBLB"),u=n("PsHI");s(s.S+s.F*!n("6sPN")(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,s,d,h=a(e),f="function"==typeof this?this:Array,m=arguments.length,v=m>1?arguments[1]:void 0,p=void 0!==v,g=0,w=u(h);if(p&&(v=i(v,m>2?arguments[2]:void 0,2)),void 0==w||f==Array&&r(w))for(n=new f(t=c(h.length));t>g;g++)l(n,g,p?v(h[g],g):h[g]);else for(d=w.call(h),n=new f;!(s=d.next()).done;g++)l(n,g,p?o(d,v,[s.value,g],!0):s.value);return n.length=g,n}})},kfHR:function(e,t,n){e.exports={default:n("5uZj"),__esModule:!0}},yBLB:function(e,t,n){"use strict";var i=n("hHwa"),s=n("gwUl");e.exports=function(e,t,n){t in e?i.f(e,t,s(0,n)):e[t]=n}}});
//# sourceMappingURL=2.ac2186a986d9ebd0ff18.js.map