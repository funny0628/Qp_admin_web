webpackJsonp([25],{"+1Be":function(e,t){},QxSb:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),n=a.n(r),i=a("lC5x"),o=a.n(i),s=a("J0Oq"),l=a.n(s),c=a("Z/hU"),u=a("22Zk"),d=(c.a,u.a,{name:"bank_card",extends:c.a,components:{InputArea:u.a},data:function(){return{limit:10,currentPage:1,total:0,start:"",end:"",pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]},platforms:[{value:-1,label:"全部"},{value:0,label:"审核中"},{value:1,label:"已拒绝"},{value:3,label:"已完成"}],format:{user_id:"",order_status:""},titleData:[{label:"ID",prop:"id",width:""},{label:"订单号",prop:"order_id",width:""},{label:"用户id",prop:"uid",width:""},{label:"转账方式",prop:"way",width:""},{label:"姓名",prop:"bank_user_name",width:""},{label:"账号",prop:"bank_account",width:""},{label:"金额",prop:"money",width:""},{label:"赠送金额",prop:"give_money",width:""},{label:"状态",prop:"o_status",width:""},{label:"内部订单号",prop:"inner_order_id",width:""},{label:"备注",prop:"o_desc",width:""},{label:"操作者",prop:"op_name",width:""},{label:"操作时间",prop:"updated_at",width:"160"}],dialogAddVisible:!1,form:{checkList:["0902代理01","0902代理02"],function:"1",agent:100,nickname:"",password:"",money_password:"",phone:"",user_type:"1"},tableData:[],o_status:{0:"审核中",1:"已拒绝",3:"已完成"}}},created:function(){var e=this;return l()(o.a.mark(function t(){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a=(new Date).getTime(),r=(new Date).getTime()-6048e5,e.start=r,e.end=a,e.initData();case 5:case"end":return t.stop()}},t,e)}))()},methods:{search:function(){this.initData({page:this.currentPage,limit:this.limit,uid:this.format.user_id||-1,status:this.format.order_status||-1,start_time:Math.ceil(this.start/1e3)||0,end_time:Math.ceil(this.start/1e3)||0})},handleSizeChange:function(e){this.currentPage=1,this.limit=e,this.initData()},handleCurrentChange:function(e){this.currentPage=e,this.initData()},CheckOrder:function(e,t){var a=this;return l()(o.a.mark(function r(){var n,i;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e,t.order_id),r.next=3,a.$http.allAgency.PostOrdercheck({order_id:t.order_id,action:e});case 3:n=r.sent,i=n.data,console.log(i),200===i.code&&a.initData();case 7:case"end":return r.stop()}},r,a)}))()},timestampToTime:function(e){var t=new Date(1e3*e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()+" ")+(t.getHours()+":")+(t.getMinutes()+":")+t.getSeconds()},formatData:function(e){var t=this;return e.forEach(function(e){e.way=0===e.way?"银行卡":"支付宝",e.updated_at=t.timestampToTime(e.updated_at),n()(t.o_status).forEach(function(a){e.o_status===+a&&(e.o_status=t.o_status[a])})}),e},initData:function(){var e=this;return l()(o.a.mark(function t(){var a,r;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.allAgency.GetBankOrder({page:e.currentPage,limit:e.limit});case 2:a=t.sent,r=a.data,console.log(r),e.tableData=e.formatData(r.data),e.total=r.total;case 7:case"end":return t.stop()}},t,e)}))()}},mounted:function(){}}),p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"BankOrder-main"}},[a("div",{staticClass:"title"},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户id",size:"medium",clearable:""},model:{value:e.format.user_id,callback:function(t){e.$set(e.format,"user_id",t)},expression:"format.user_id"}}),e._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:"",size:"medium"},model:{value:e.format.order_status,callback:function(t){e.$set(e.format,"order_status",t)},expression:"format.order_status"}},e._l(e.platforms,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd hh:mm:ss","value-format":"timestamp"},model:{value:e.start,callback:function(t){e.start=t},expression:"start"}}),e._v(" "),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd hh:mm:ss","value-format":"timestamp"},model:{value:e.end,callback:function(t){e.end=t},expression:"end"}}),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("div",{staticClass:"table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":"","tooltip-effect":"dark",border:"","default-sort":{prop:"date",order:"descending"}}},[e._l(e.titleData,function(e,t){return a("el-table-column",{key:t,attrs:{prop:e.prop,label:e.label,sortable:"ID"===e.label,align:"center","show-overflow-tooltip":""}})}),e._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center","show-overflow-tooltip":"",width:"250px"},scopedSlots:e._u([{key:"default",fn:function(t){return["审核中"===t.row.o_status?a("el-button",{directives:[{name:"has",rawName:"v-has",value:"modify_game_notice",expression:"'modify_game_notice'"}],attrs:{size:"mini",type:"primary"},on:{click:function(a){return e.CheckOrder(1,t.row)}}},[e._v("通过并发货")]):e._e(),e._v(" "),"审核中"===t.row.o_status?a("el-button",{directives:[{name:"has",rawName:"v-has",value:"delete_game_notice",expression:"'delete_game_notice'"}],attrs:{size:"mini",type:"danger"},on:{click:function(a){return e.CheckOrder(2,t.row)}}},[e._v("拒绝")]):e._e()]}}])})],2),e._v(" "),e.total>5?a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}):e._e()],1)])},staticRenderFns:[]};var m=a("C7Lr")(d,p,!1,function(e){a("+1Be")},"data-v-84eefede",null);t.default=m.exports}});
//# sourceMappingURL=25.28eccd02bdbca5a23091.js.map