webpackJsonp([2],{"1fZE":function(t,e){},"5uZj":function(t,e,n){n("at0p"),n("f1e3"),t.exports=n("ZuHZ").Array.from},IHPB:function(t,e,n){"use strict";e.__esModule=!0;var i,s=n("kfHR"),o=(i=s)&&i.__esModule?i:{default:i};e.default=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return(0,o.default)(t)}},OXqq:function(t,e){},TeE2:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("IHPB"),s=n.n(i),o=n("4YfN"),a=n.n(o),r=n("kV13"),l=(String,{name:"Page",props:{firstView:{type:String,default:function(){return""}}},computed:{vue:function(){return this.pageList[this.pageName].vue||null}},data:function(){return{history:[],pageName:"",pageList:this.$pageInfo.pageList}},methods:{forward:function(t){var e=t.name,n=t.param||{},i=this.pageList[e];this.$pageInfo.to=e,this.$pageInfo.from=this.$options.name,this.$pageInfo.param=n;var s=this.history[this.history.length-1];i.parent===s?(this.history.push(e),this.pageName=e):e===this.pageList[this.pageName].parent?(this.history.splice(this.history.length-1,1),this.pageName=this.history[this.history.length-1]):this.$emit("forward",t)},back:function(t){this.history.length>0?(this.history.splice(this.history.length-1,1),this.pageName=this.history[this.history.length-1]):this.$emit("back")}},created:function(){this.pageName=this.firstView,this.history.push(this.pageName)},mounted:function(){},beforeDestroy:function(){this.history=[]},destroyed:function(){}}),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("keep-alive",[e(this.vue,{tag:"component",staticClass:"admin-page",attrs:{"page-name":this.pageName},on:{forward:this.forward,back:this.back}})],1)},staticRenderFns:[]};var d=n("C7Lr")(l,c,!1,function(t){n("v5PR")},"data-v-6051ae19",null).exports,u=n("c6y4"),m=n("ln59"),h=(u.a,Function,{name:"NavMenu",extends:u.a,props:{navClick:{type:Function,default:function(){return function(){}}}},data:function(){return{MODEL:m.a}},methods:{clickItem:function(t){this.$emit("clickItem",t)},close:function(){},open:function(){},getRightsList:function(t,e){if("[object Array]"!==Object.prototype.toString.call(t))for(var n in t){var i=t[n];e.indexOf(n)<0?delete t[n]:i.children&&i.children.length>0&&this.getRightsList(i.children,e)}else for(var s=t.length-1;s>=0;s--){var o=t[s];e.indexOf(o.name)<0?t.splice(s,1):o.children&&o.children.length>0&&this.getRightsList(o.children,e)}},get_permission_names:function(t){var e=[],n=[];return function t(i){i.length>0&&i.forEach(function(i){i.children?(e.push(i.name),n.push(i.display_name),t(i.children)):(e.push(i.name),n.push(i.display_name))})}(t),console.log(n),e}},created:function(){var t=JSON.parse(localStorage.getItem("user_info"));console.log(t);var e=this.get_permission_names(t);console.log(e),this.getRightsList(m.a,e)}}),f={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"navMenu"}},[t._m(0),t._v(" "),n("el-menu",{attrs:{"default-active":"1","unique-opened":""},on:{open:t.close,close:t.open}},t._l(t.MODEL,function(e,i){return n("el-submenu",{key:i,attrs:{index:(i+1).toString()}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.text))]),t._v(" "),t._l(e.children,function(e,s){return e.children?t._e():n("el-menu-item",{key:s,attrs:{index:i+1+"-"+(s+1)},on:{click:function(n){return t.clickItem(e)}}},[t._v(t._s(e.text))])}),t._v(" "),t._l(e.children,function(e,s){return e.children?n("el-submenu",{key:s,attrs:{index:i+1+"-"+(s+1)}},[n("template",{slot:"title"},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.text))])]),t._v(" "),n("el-menu-item-group",t._l(e.children,function(e,o){return n("el-menu-item",{key:o,attrs:{index:i+1+"-"+(s+1)+"-"+(o+1)},on:{click:function(n){return t.clickItem(e)}}},[t._v(t._s(e.text))])}),1)],2):t._e()})],2)}),1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{staticStyle:{"vertical-align":"middle","margin-left":"-10px","margin-right":"10px"},attrs:{src:n("k7cX"),alt:""}}),this._v(" "),e("span",{staticStyle:{color:"#fff"}},[this._v("管理后台")])])}]};var v=n("C7Lr")(h,f,!1,function(t){n("OXqq")},null,null).exports,p=n("HaFW"),g=n("b8UZ"),w=n("Vetr"),I=n("E4C3"),b=n.n(I),_=(a()({},Object(g.b)(["isPhone"]),{items:function(){return[].concat(s()(this.showItems),s()(this.hideItems))}}),null),y={name:"Home",components:{NavMenu:v,Page:d},data:function(){return{defaultActive:"",activeName:"",showItems:[],hideItems:[],headerVue:p.a.headerVue,showNavMenu:!1,loginUser:"",showLoginout:!1,dialogFormVisible:!1,formLabelWidth:"120px",form:{psd:"",checkPsd:""}}},methods:{init:function(){if(p.a.loopArray&&p.a.loopArray.length>0)for(var t=0;t<p.a.loopArray.length;t++)p.a.loopArray[t].start()},add:function(t){var e=_.$pageInfo.pageList[t],n=_.items.filter(function(e){return t===e.name});if(n.length<=0)_.showItems.unshift(e);else if(b.a.done(),(n=_.hideItems.filter(function(e){return t===e.name})).length>0){var i=_.hideItems.indexOf(n[0]);_.showItems.unshift(_.hideItems.splice(i,1)[0])}_.activeName=t,_.arrangeMenu()},del:function(t){var e=_.showItems.splice(t,1)[0];_.activeName=_.activeName===e.name?"":_.activeName,_.arrangeMenu("del"),_.defaultShow()},closeAll:function(){_.showItems=[],_.hideItems=[],_.activeName="",_.defaultShow()},arrangeMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";_.$nextTick(function(){var e=_.$refs.quickMenu.clientWidth,n=0;if(_.$refs.quickNav)for(var i=0;i<_.$refs.quickNav.length;i++)n+=_.$refs.quickNav[i].clientWidth;e-n<80?_.hideItems.unshift(_.showItems.splice(_.showItems.length-1,1)[0]):"add"!==t&&_.hideItems.length>0&&_.showItems.push(_.hideItems.splice(0,1)[0])})},defaultShow:function(){0===_.showItems.length&&_.showItems.push(_.$pageInfo.pageList[_.defaultActive]),_.activeName||(_.activeName=_.showItems[0].name)},clickItem:function(t){_.add(t.name),_.isPhone&&(_.showNavMenu=!1)},forward:function(t){console.log(t),_.add(t.name)},back:function(){},closeNavMenu:function(t){t()},logout:function(){var t=this;this.$http.get("v1/backend/logout").then(function(e){console.log(e),200===e.data.code&&(t.$router.push({name:"login"}),t.$message({type:"success",message:e.data.msg}))})},showLoginoutFn:function(){1==this.showLoginout?this.showLoginout=!1:this.showLoginout=!0}},computed:a()({},Object(g.b)(["isPhone"]),{items:function(){return[].concat(s()(this.showItems),s()(this.hideItems))}}),watch:{activeName:{handler:function(t,e){r.default.prototype.$activePage=t}}},created:function(){var t="",e=(_=this).$pageInfo.config;e.IS_DEBUG.state&&e.IS_DEBUG.activePage&&_.$pageInfo.pageList[e.IS_DEBUG.activePage]?(_.showItems=[_.$pageInfo.pageList[e.IS_DEBUG.activePage]],t=e.IS_DEBUG.activePage):(_.showItems=[_.$pageInfo.pageList[e.ACTIVE_PAGE]],t=e.ACTIVE_PAGE),_.defaultActive=t,_.activeName=t},mounted:function(){this.loginUser=JSON.parse(localStorage.getItem("user")).username,_.init(),_.$forceUpdate();var t=document.body.offsetWidth;_.$store.commit(w.a,t<=780),window.onresize=function(){_.$nextTick(function(){t=document.body.offsetWidth,_.$store.commit(w.a,t<=780),_.$forceUpdate()})}}},k={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:t.isPhone?"is-phone":"",attrs:{id:"home"}},[n("el-row",{staticClass:"admin-box content-100 rel"},[t.isPhone?n("el-drawer",{staticClass:"menu-drawer",attrs:{size:"160px",title:"","show-close":!1,visible:t.showNavMenu,direction:"ltr","before-close":t.closeNavMenu},on:{"update:visible":function(e){t.showNavMenu=e}}},[n("div",{staticClass:"nav-menu-box"},[n("nav-menu",{on:{clickItem:t.clickItem}})],1)]):n("el-col",{staticClass:"nav-menu-box",attrs:{xs:4,sm:4,md:4,lg:3}},[n("nav-menu",{on:{clickItem:t.clickItem}})],1),t._v(" "),n("el-col",{staticClass:"container f-l cnt-box",attrs:{xs:20,sm:20,md:20,lg:21}},[n("div",{staticClass:"header-box"},[n("el-row",{staticClass:"header"},[t.isPhone?n("el-col",{attrs:{xs:6}},[n("a",{staticClass:"btn-menu",on:{click:function(e){t.showNavMenu=!t.showNavMenu}}})]):t._e(),t._v(" "),t.isPhone?t._e():n("el-col",{staticClass:"header-row hidden-xs-only",attrs:{sm:12,md:12,lg:12}},[n("span",[t._v("欢迎登录")])]),t._v(" "),n("el-col",{staticClass:"header-row",staticStyle:{"justify-content":"flex-end"},attrs:{xs:10,sm:10,md:10,lg:10}},[t.headerVue?[n(t.headerVue,{tag:"component",on:{forward:t.forward}})]:[n("div",{staticClass:"btn-area"},[n("a",{staticClass:"btn-message"}),t._v(" "),n("a",{staticClass:"btn-settings"}),t._v(" "),n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link"},[t._v("\n                    admin\n                    "),n("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[t._v("黄金糕")]),t._v(" "),n("el-dropdown-item",[t._v("狮子头")]),t._v(" "),n("el-dropdown-item",[t._v("螺蛳粉")]),t._v(" "),n("el-dropdown-item",{attrs:{disabled:""}},[t._v("双皮奶")]),t._v(" "),n("el-dropdown-item",{attrs:{divided:""}},[t._v("蚵仔煎")])],1)],1)],1)]],2),t._v(" "),n("el-col",{attrs:{xs:8,sm:2,md:2,lg:2}},[n("el-dropdown",[n("span",{staticClass:"el-dropdown-link"},[t._v("\n                "+t._s(t.loginUser)+"\n                "),n("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[n("el-dropdown-item",[n("span",[t._v("基本资料")])]),t._v(" "),n("el-dropdown-item",[n("span",{on:{click:function(e){t.dialogFormVisible=!0}}},[t._v("修改密码")])]),t._v(" "),n("el-dropdown-item",[n("span",{on:{click:t.logout}},[t._v("退出")])])],1)],1)],1)],1),t._v(" "),n("div",{ref:"quickMenu",staticClass:"nav-menu rel"},[t._l(t.showItems,function(e,i){return n("a",{key:i,ref:"quickNav",refInFor:!0,staticClass:"btn-nav",class:e.name===t.activeName?"active":"",on:{click:function(n){return t.clickItem(e)}}},[t._v("\n            "+t._s(e.text)+"\n            "),n("a",{staticClass:"btn-close iconfont icon-guanbi",on:{click:function(e){return e.stopPropagation(),t.del(i)}}})])}),t._v(" "),n("div",{staticClass:"arrow-down"},[n("el-dropdown",{attrs:{trigger:"click"}},[n("div",{staticClass:"btn-arrow-down"},[n("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),n("el-dropdown-menu",{staticStyle:{"max-height":"520px",overflow:"auto"},attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.hideItems,function(e,i){return n("el-dropdown-item",{key:i,nativeOn:{click:function(n){return t.add(e.name)}}},[t._v(t._s(e.text))])}),t._v(" "),n("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length > 0"}],attrs:{divided:""},nativeOn:{click:function(e){return t.closeAll()}}},[t._v("关闭所有")])],2)],1)],1)],2)],1),t._v(" "),n("div",{staticClass:"main-box"},t._l(t.items,function(e,i){return n("page",{directives:[{name:"show",rawName:"v-show",value:e.name===t.activeName,expression:"item.name === activeName"}],key:e.name,attrs:{"first-view":e.name,params:{}},on:{forward:t.forward,back:function(e){return t.del(i)}}})}),1)])],1),t._v(" "),n("el-dialog",{attrs:{title:"修改用户密码",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[n("el-form",{attrs:{model:t.form}},[n("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"确认密码","label-width":t.formLabelWidth}},[n("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var N=n("C7Lr")(y,k,!1,function(t){n("1fZE"),n("zTDN")},"data-v-b580db12",null);e.default=N.exports},f1e3:function(t,e,n){"use strict";var i=n("VfK5"),s=n("Wtcz"),o=n("WXuS"),a=n("f9MG"),r=n("9Ntz"),l=n("n/58"),c=n("yBLB"),d=n("PsHI");s(s.S+s.F*!n("6sPN")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,s,u,m=o(t),h="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,p=void 0!==v,g=0,w=d(m);if(p&&(v=i(v,f>2?arguments[2]:void 0,2)),void 0==w||h==Array&&r(w))for(n=new h(e=l(m.length));e>g;g++)c(n,g,p?v(m[g],g):m[g]);else for(u=w.call(m),n=new h;!(s=u.next()).done;g++)c(n,g,p?a(u,v,[s.value,g],!0):s.value);return n.length=g,n}})},k7cX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDI0QjQ4QUE2NDQ4MTFFQTkzNUVEN0MxQUM2N0E5OUQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDI0QjQ4QUI2NDQ4MTFFQTkzNUVEN0MxQUM2N0E5OUQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjRCNDhBODY0NDgxMUVBOTM1RUQ3QzFBQzY3QTk5RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMjRCNDhBOTY0NDgxMUVBOTM1RUQ3QzFBQzY3QTk5RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpBCM1sAAAJUSURBVHjapJbPS1RRFMffjPaDmEAaiFqYrbJttbOwhIgKIqgMchG0cRspURBtIoIWpesgyMByrCB0FZEMRGlRu+wXZBSm/4Bjg0y9Phe+Ty537rwf04EPj3fu+fHuuefde4MwDIOUdMIQ/BLDsDOtf5LBGuiFF/A3rBejm4LTss2caBtch0VP8A/ClUX5dCQlysMRmICaE2QZRqDLst8L9+G3Y2t8J+GoYq4mKsBlmPN85We4AJtiymLGBmTrynfFLhjDssdgHHogl6FZcvJ54ok3lQ+CYF9QL+thLeSCbNICGzz67iCMl2+a+uaYmRRhEL7GBbITvVYzPIIVx64KD+GAVc6uBs2wohimGWZ8iUatr9wKV+CH5+O+wKxH/xOuyjeKM5qUKKIFjsGzmKqYseOydf1XE7UmLO4fmIQ5eA/rnPEqDMBsUpfkU3TSCZj2JIm6cwZO/U8i06o34DFslG7ZGl/SswDjcFM+fmmwRkVnXUzX9UOfpTsrXdXSPZdv3Rr5ZrQL3sEhvc/Dfrjj2NWk65aNkYNay91xpdsC/fAKtktXhj3wJqbEb2VT1nuHYpyDoq90rtw2Xem0q126PmfM2N5qFMxXugqcUdvWMuxzxnZQvkvuYKv+FbtbTPnGguZlTJvxA/t/NDN66RjeU7v2ZNy9c/IpwYgzNh0dfBe1U7vyCc5DW8watcnmo8ffHKaXooPPPsoPw1PPUV6Bu1CydCXpKp6jfEKx8kmXk3a4BgthelnQ5aS92evWyRTXrd5mr1s+dujfmrcukJ1p/f8JMAAa6iwaGJ71tQAAAABJRU5ErkJggg=="},kfHR:function(t,e,n){t.exports={default:n("5uZj"),__esModule:!0}},v5PR:function(t,e){},yBLB:function(t,e,n){"use strict";var i=n("hHwa"),s=n("gwUl");t.exports=function(t,e,n){e in t?i.f(t,e,s(0,n)):t[e]=n}},zTDN:function(t,e){}});