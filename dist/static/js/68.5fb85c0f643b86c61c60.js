webpackJsonp([68],{iTgR:function(t,e){},ixb8:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l("lC5x"),o=l.n(a),r=l("J0Oq"),n=l.n(r),i=l("EuRQ"),s={name:"GMcontrol",data:function(){return{orderlist:["ascending","descending"],dialogFormVisible:!1,formLabelWidth:"120px",tableData:[1],currentPage:1,limit:10,total:"",title:"添加控制名单",opationStatus:[{value:2,label:"全部"},{value:0,label:"终止"},{value:1,label:"执行"}],opationAmount:[{value:1,label:"全部"},{value:2,label:"正数"},{value:3,label:"负数"}],format:{play_id:"",status:"全部",control_money:"全部"},form:{name:""},rules:{name:[{required:!0,message:"必填项不可以为空,只能输入数字",trigger:"blur"}]},tableDialog:[],visible:!1}},created:function(){this.initData()},methods:{add:function(){this.dialogFormVisible=!0,this.title="添加控制名单"},search:function(){},handleStop:function(){},handleEdit:function(t,e){console.log(t,e),this.dialogFormVisible=!0,this.title="编辑"},handleDetail:function(){this.visible=!0},handleSizeChange:function(t){this.limit=t,this.currentPage=1,this.initData()},handleCurrentChange:function(t){this.currentPage=t,this.initData()},onSubmit:function(t){var e,l=this;this.$refs[t].validate((e=n()(o.a.mark(function t(e,a){return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=3;break}t.next=5;break;case 3:return console.log("error submit!!"),t.abrupt("return",!1);case 5:case"end":return t.stop()}},t,l)})),function(t,l){return e.apply(this,arguments)}))},GetData:function(){this.initData({page:this.currentPage,limit:this.limit,uid:this.format.play_id,status:this.format.status,amount:this.format.control_money})},formatData:function(t){return t.forEach(function(t){t.curr_status=1===t.curr_status?"启用":"终止"}),t},initData:function(t){var e=this;return n()(o.a.mark(function l(){var a,r,n;return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,e.$http.OperationMan.GetGameControl(t);case 2:a=l.sent,r=a.data,console.log(r),n=Object(i.b)(r.data),console.log(n),e.tableData=e.formatData(n),e.total=r.total;case 9:case"end":return l.stop()}},l,e)}))()}}},c={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{attrs:{id:"GMcontrol-main"}},[l("div",[l("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.add}},[t._v("添加")])],1),t._v(" "),l("el-input",{staticStyle:{width:"200px","margin-top":"20px"},attrs:{placeholder:"请输入玩家id",size:"medium",clearable:""},model:{value:t.format.play_id,callback:function(e){t.$set(t.format,"play_id",e)},expression:"format.play_id"}}),t._v(" "),l("el-select",{attrs:{placeholder:"请选择状态",clearable:"",size:"medium"},model:{value:t.format.status,callback:function(e){t.$set(t.format,"status",e)},expression:"format.status"}},t._l(t.opationStatus,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),l("el-select",{attrs:{placeholder:"请选择控制金额",clearable:"",size:"medium"},model:{value:t.format.control_money,callback:function(e){t.$set(t.format,"control_money",e)},expression:"format.control_money"}},t._l(t.opationAmount,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v(" "),l("el-button",{attrs:{type:"primary",size:"medium"},on:{click:t.search}},[t._v("查找")]),t._v(" "),l("div",{staticClass:"table"},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"","default-sort":{prop:"ID",order:t.orderlist[0]},data:t.tableData,"tooltip-effect":"dark"}},[l("el-table-column",{attrs:{prop:"id",label:"玩家昵称",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"uid",label:"玩家Id",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"control_amount",label:"控制金额(分)",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"pay_channel",label:"当前个人库存值",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"curr_status",label:"状态",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"weights",label:"权重值",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"lose_rate",label:"输钱概率(%)",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{sortable:"",prop:"win_rate",label:"赢钱概率(%)",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"creation_type",label:"创建类型",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"create_at",label:"创建时间",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"editor",label:"最后修人员",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"change",label:"操作",align:"center","show-overflow-tooltip":"",width:"230px"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(l){return t.handleStop(e.row,"form")}}},[t._v("停止")]),t._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(l){return t.handleEdit(e.row,"form")}}},[t._v("编辑")]),t._v(" "),l("el-button",{attrs:{size:"mini"},on:{click:function(l){return t.handleDetail(e.$index,e.row)}}},[t._v("详情")])]}}])})],1),t._v(" "),t.total>5?l("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,15,20],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}}):t._e()],1),t._v(" "),l("el-dialog",{attrs:{title:t.title,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[l("el-form",{attrs:{rules:t.rules,model:t.form}},[l("el-form-item",{attrs:{label:"ID","label-width":t.formLabelWidth,prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"控制金额","label-width":t.formLabelWidth,prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"权重值","label-width":t.formLabelWidth,prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"输钱概率(%)","label-width":t.formLabelWidth,prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),l("el-form-item",{attrs:{label:"赢钱概率(%)","label-width":t.formLabelWidth,prop:"name"}},[l("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1)],1),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSubmit("form")}}},[t._v("确 定")])],1)],1),t._v(" "),l("el-dialog",{attrs:{title:"邮件详情",visible:t.visible},on:{"update:visible":function(e){t.visible=e}}},[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{border:"","highlight-current-row":"",data:t.tableDialog,"tooltip-effect":"dark"}},[l("el-table-column",{attrs:{prop:"id",label:"时间",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"sort_num",label:"创建类型",align:"center"}}),t._v(" "),l("el-table-column",{attrs:{prop:"pay_name",label:"个人库存变化量",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"pay_channel",label:"变化前个人库存值",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"pay_way",label:"变化后个人库存值",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"money_num",label:"变化前权重值",align:"center","show-overflow-tooltip":""}}),t._v(" "),l("el-table-column",{attrs:{prop:"is_diy",label:"变化后权重值",align:"center","show-overflow-tooltip":""}})],1)],1)],1)},staticRenderFns:[]};var u=l("C7Lr")(s,c,!1,function(t){l("iTgR")},"data-v-3c640f0e",null);e.default=u.exports}});