webpackJsonp([60],{"7cIU":function(e,t){},vsM9:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s("mvHQ"),a=s.n(n),i=s("Xxa5"),r=s.n(i),l=s("exGp"),c=s.n(l),o={name:"hl_fish_fire_config",data:function(){return{list:[],id:0,keys:"",loading:!1}},created:function(){var e=this;return c()(r.a.mark(function t(){var s,n,a;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$http.HallFunConfig.Getfishing_guns({key:"fishing_guns.lua"});case 2:s=t.sent,n=s.data,e.id=n.data[0].id,e.keys=n.data[0].sys_key,a=JSON.parse(n.data[0].sys_val),e.list=a;case 8:case"end":return t.stop()}},t,e)}))()},methods:{add:function(){this.list.push({})},submit:function(e){var t=this;return c()(r.a.mark(function s(){var n,i,l,c;return r.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(1!==e){s.next=8;break}return s.next=3,t.$http.HallFunConfig.Putfishing_guns({keys:t.keys,values:a()(t.list),id:t.id});case 3:n=s.sent,1===(i=n.data).code&&"ok"===i.msg?t.$message({type:"success",message:"保存成功!"}):t.$message({type:"warning",message:"保存失败!"}),s.next=15;break;case 8:if(2!==e){s.next=15;break}return t.loading=!0,s.next=12,t.$http.HallFunConfig.Postfishing_guns({keys:t.keys,values:a()(t.list),id:t.id});case 12:l=s.sent,1===(c=l.data).code&&"ok"===c.msg?(t.loading=!1,t.$message({type:"success",message:"发送到服务器配置成功!"})):(t.loading=!1,t.$message({type:"warning",message:"发送服务器配置失败!"}));case 15:case"end":return s.stop()}},s,t)}))()},del:function(e){var t=this;this.$confirm("确定删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.list.splice(e,1),t.$message({type:"success",message:"删除成功!"})}).catch(function(){t.$message({type:"info",message:"已取消删除"})})}}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{id:"batteryConfig","element-loading-text":"正在上传中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(255, 255, 255, 0.6)"}},[e._m(0),e._v(" "),s("div",{staticClass:"contain"},[s("div",{staticClass:"botton"},[s("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("添加")]),e._v(" "),s("el-button",{directives:[{name:"has",rawName:"v-has",value:"hl_fish_fire_config_save",expression:"'hl_fish_fire_config_save'"}],attrs:{type:"primary"},on:{click:function(t){return e.submit(1)}}},[e._v("保存")]),e._v(" "),s("el-button",{directives:[{name:"has",rawName:"v-has",value:"hl_fish_fire_config_send",expression:"'hl_fish_fire_config_send'"}],attrs:{type:"primary"},on:{click:function(t){return e.submit(2)}}},[e._v("发送给服务器配置")])],1),e._v(" "),e._l(e.list,function(t,n){return s("div",{directives:[{name:"has",rawName:"v-has",value:"hl_fish_fire_config_detail",expression:"'hl_fish_fire_config_detail'"}],key:n,staticClass:"table"},[s("el-row",{attrs:{gutter:10}},[s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"id"},model:{value:t.id,callback:function(s){e.$set(t,"id",s)},expression:"item.id"}})],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"vip等级"},model:{value:t.vip_level,callback:function(s){e.$set(t,"vip_level",s)},expression:"item.vip_level"}})],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"名称"},model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}})],1),e._v(" "),s("el-col",{attrs:{span:5}},[s("el-input",{attrs:{placeholder:"power"},model:{value:t.power,callback:function(s){e.$set(t,"power",s)},expression:"item.power"}})],1),e._v(" "),s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.del(n)}}},[e._v("删除")])],1)],1)],1)})],2)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"VIP"},[this._v("扑鱼VIP炮台配置")])])}]};var d=s("VU/8")(o,u,!1,function(e){s("7cIU")},"data-v-56102c50",null);t.default=d.exports}});
//# sourceMappingURL=60.9342594271364572f858.js.map