webpackJsonp([2],{"5uZj":function(t,e,i){i("at0p"),i("f1e3"),t.exports=i("ZuHZ").Array.from},DplS:function(t,e){},IHPB:function(t,e,i){"use strict";e.__esModule=!0;var n,s=i("kfHR"),o=(n=s)&&n.__esModule?n:{default:n};e.default=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return(0,o.default)(t)}},OXqq:function(t,e){},TeE2:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("IHPB"),s=i.n(n),o=i("4YfN"),a=i.n(o),r=i("kV13"),l=(String,{name:"Page",props:{firstView:{type:String,default:function(){return""}}},computed:{vue:function(){return this.pageList[this.pageName].vue||null}},data:function(){return{history:[],pageName:"",pageList:this.$pageInfo.pageList}},methods:{forward:function(t){var e=t.name,i=t.param||{},n=this.pageList[e];this.$pageInfo.to=e,this.$pageInfo.from=this.$options.name,this.$pageInfo.param=i;var s=this.history[this.history.length-1];n.parent===s?(this.history.push(e),this.pageName=e):e===this.pageList[this.pageName].parent?(this.history.splice(this.history.length-1,1),this.pageName=this.history[this.history.length-1]):this.$emit("forward",t)},back:function(t){this.history.length>0?(this.history.splice(this.history.length-1,1),this.pageName=this.history[this.history.length-1]):this.$emit("back")}},created:function(){this.pageName=this.firstView,this.history.push(this.pageName)},mounted:function(){},beforeDestroy:function(){this.history=[]},destroyed:function(){}}),c={render:function(){var t=this.$createElement,e=this._self._c||t;return e("keep-alive",[e(this.vue,{tag:"component",staticClass:"admin-page",attrs:{"page-name":this.pageName},on:{forward:this.forward,back:this.back}})],1)},staticRenderFns:[]};var d=i("C7Lr")(l,c,!1,function(t){i("v5PR")},"data-v-6051ae19",null).exports,u=i("c6y4"),h=i("ln59"),m=(u.a,Function,{name:"NavMenu",extends:u.a,props:{navClick:{type:Function,default:function(){return function(){}}}},data:function(){return{MODEL:h.a}},methods:{clickItem:function(t){this.$emit("clickItem",t)},close:function(){},open:function(){},getRightsList:function(t,e){if("[object Array]"!==Object.prototype.toString.call(t))for(var i in t){var n=t[i];e.indexOf(i)<0?delete t[i]:n.children&&n.children.length>0&&this.getRightsList(n.children,e)}else for(var s=t.length-1;s>=0;s--){var o=t[s];e.indexOf(o.name)<0?t.splice(s,1):o.children&&o.children.length>0&&this.getRightsList(o.children,e)}},get_permission_names:function(t){var e=[],i=[];return function t(n){n.length>0&&n.forEach(function(n){n.children?(e.push(n.name),i.push(n.display_name),t(n.children)):(e.push(n.name),i.push(n.display_name))})}(t),console.log(i),e}},created:function(){var t=JSON.parse(localStorage.getItem("user_info"));console.log(t);var e=this.get_permission_names(t);console.log(e),this.getRightsList(h.a,e)}}),f={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"navMenu"}},[t._m(0),t._v(" "),i("el-menu",{attrs:{"default-active":"1","unique-opened":""},on:{open:t.close,close:t.open}},t._l(t.MODEL,function(e,n){return i("el-submenu",{key:n,attrs:{index:(n+1).toString()}},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.text))]),t._v(" "),t._l(e.children,function(e,s){return e.children?t._e():i("el-menu-item",{key:s,attrs:{index:n+1+"-"+(s+1)},on:{click:function(i){return t.clickItem(e)}}},[t._v(t._s(e.text))])}),t._v(" "),t._l(e.children,function(e,s){return e.children?i("el-submenu",{key:s,attrs:{index:n+1+"-"+(s+1)}},[i("template",{slot:"title"},[i("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.text))])]),t._v(" "),i("el-menu-item-group",t._l(e.children,function(e,o){return i("el-menu-item",{key:o,attrs:{index:n+1+"-"+(s+1)+"-"+(o+1)},on:{click:function(i){return t.clickItem(e)}}},[t._v(t._s(e.text))])}),1)],2):t._e()})],2)}),1)],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{staticStyle:{"vertical-align":"middle","margin-left":"-10px","margin-right":"10px"},attrs:{src:i("k7cX"),alt:""}}),this._v(" "),e("span",{staticStyle:{color:"#fff"}},[this._v("管理后台")])])}]};var v=i("C7Lr")(m,f,!1,function(t){i("OXqq")},null,null).exports,p=i("HaFW"),g=i("b8UZ"),w=i("Vetr"),I=i("E4C3"),b=i.n(I),y=(a()({},Object(g.b)(["isPhone"]),{items:function(){return[].concat(s()(this.showItems),s()(this.hideItems))}}),null),_={name:"Home",components:{NavMenu:v,Page:d},data:function(){return{defaultActive:"",activeName:"",showItems:[],hideItems:[],headerVue:p.a.headerVue,showNavMenu:!1,loginUser:"",loginUserInfo:{},showLoginout:!1,dialogFormVisible:!1,formLabelWidth:"120px",form:{uid:null,psd:"",checkPsd:""}}},methods:{init:function(){if(p.a.loopArray&&p.a.loopArray.length>0)for(var t=0;t<p.a.loopArray.length;t++)p.a.loopArray[t].start()},add:function(t){var e=y.$pageInfo.pageList[t],i=y.items.filter(function(e){return t===e.name});if(i.length<=0)y.showItems.unshift(e);else if(b.a.done(),(i=y.hideItems.filter(function(e){return t===e.name})).length>0){var n=y.hideItems.indexOf(i[0]);y.showItems.unshift(y.hideItems.splice(n,1)[0])}y.activeName=t,y.arrangeMenu()},del:function(t){var e=y.showItems.splice(t,1)[0];y.activeName=y.activeName===e.name?"":y.activeName,y.arrangeMenu("del"),y.defaultShow()},closeAll:function(){y.showItems=[],y.hideItems=[],y.activeName="",y.defaultShow()},arrangeMenu:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"add";y.$nextTick(function(){var e=y.$refs.quickMenu.clientWidth,i=0;if(y.$refs.quickNav)for(var n=0;n<y.$refs.quickNav.length;n++)i+=y.$refs.quickNav[n].clientWidth;e-i<80?y.hideItems.unshift(y.showItems.splice(y.showItems.length-1,1)[0]):"add"!==t&&y.hideItems.length>0&&y.showItems.push(y.hideItems.splice(0,1)[0])})},defaultShow:function(){0===y.showItems.length&&y.showItems.push(y.$pageInfo.pageList[y.defaultActive]),y.activeName||(y.activeName=y.showItems[0].name)},clickItem:function(t){y.add(t.name),y.isPhone&&(y.showNavMenu=!1)},forward:function(t){console.log(t),y.add(t.name)},back:function(){},closeNavMenu:function(t){t()},logout:function(){var t=this;this.$http.get("v1/backend/logout").then(function(e){console.log(e),200===e.data.code&&(t.$router.push({name:"login"}),t.$message({type:"success",message:e.data.msg}))})},openModPsd:function(t){console.log(t),this.dialogFormVisible=!0,this.form.uid=t.id},modifyUserPsd:function(){var t=this,e={uid:this.form.uid,password:this.form.psd,password2:this.form.checkPsd};this.$http.post("v1/backend/operation/user/password",e).then(function(e){console.log(e),200==e.data.code&&(t.dialogFormVisible=!1,t.$message({type:"success",message:e.data.msg}),setTimeout(function(){t.logout()},1e3))})},showLoginoutFn:function(){1==this.showLoginout?this.showLoginout=!1:this.showLoginout=!0}},computed:a()({},Object(g.b)(["isPhone"]),{items:function(){return[].concat(s()(this.showItems),s()(this.hideItems))}}),watch:{activeName:{handler:function(t,e){r.default.prototype.$activePage=t}}},created:function(){var t="",e=(y=this).$pageInfo.config;e.IS_DEBUG.state&&e.IS_DEBUG.activePage&&y.$pageInfo.pageList[e.IS_DEBUG.activePage]?(y.showItems=[y.$pageInfo.pageList[e.IS_DEBUG.activePage]],t=e.IS_DEBUG.activePage):(y.showItems=[y.$pageInfo.pageList[e.ACTIVE_PAGE]],t=e.ACTIVE_PAGE),y.defaultActive=t,y.activeName=t},mounted:function(){this.loginUser=JSON.parse(localStorage.getItem("user")).username,this.loginUserInfo=JSON.parse(localStorage.getItem("user")),y.init(),y.$forceUpdate();var t=document.body.offsetWidth;y.$store.commit(w.a,t<=780),window.onresize=function(){y.$nextTick(function(){t=document.body.offsetWidth,y.$store.commit(w.a,t<=780),y.$forceUpdate()})}}},k={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:t.isPhone?"is-phone":"",attrs:{id:"home"}},[i("el-row",{staticClass:"admin-box content-100 rel"},[t.isPhone?i("el-drawer",{staticClass:"menu-drawer",attrs:{size:"160px",title:"","show-close":!1,visible:t.showNavMenu,direction:"ltr","before-close":t.closeNavMenu},on:{"update:visible":function(e){t.showNavMenu=e}}},[i("div",{staticClass:"nav-menu-box"},[i("nav-menu",{on:{clickItem:t.clickItem}})],1)]):i("el-col",{staticClass:"nav-menu-box",attrs:{xs:4,sm:4,md:4,lg:3}},[i("nav-menu",{on:{clickItem:t.clickItem}})],1),t._v(" "),i("el-col",{staticClass:"container f-l cnt-box",attrs:{xs:20,sm:20,md:20,lg:21}},[i("div",{staticClass:"header-box"},[i("el-row",{staticClass:"header"},[t.isPhone?i("el-col",{attrs:{xs:6}},[i("a",{staticClass:"btn-menu",on:{click:function(e){t.showNavMenu=!t.showNavMenu}}})]):t._e(),t._v(" "),t.isPhone?t._e():i("el-col",{staticClass:"header-row hidden-xs-only",attrs:{sm:12,md:12,lg:12}},[i("span",[t._v("欢迎登录")])]),t._v(" "),i("el-col",{staticClass:"header-row",staticStyle:{"justify-content":"flex-end"},attrs:{xs:10,sm:10,md:10,lg:10}},[t.headerVue?[i(t.headerVue,{tag:"component",on:{forward:t.forward}})]:[i("div",{staticClass:"btn-area"},[i("a",{staticClass:"btn-message"}),t._v(" "),i("a",{staticClass:"btn-settings"}),t._v(" "),i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                    admin\n                    "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",[t._v("黄金糕")]),t._v(" "),i("el-dropdown-item",[t._v("狮子头")]),t._v(" "),i("el-dropdown-item",[t._v("螺蛳粉")]),t._v(" "),i("el-dropdown-item",{attrs:{disabled:""}},[t._v("双皮奶")]),t._v(" "),i("el-dropdown-item",{attrs:{divided:""}},[t._v("蚵仔煎")])],1)],1)],1)]],2),t._v(" "),i("el-col",{attrs:{xs:8,sm:2,md:2,lg:2}},[i("el-dropdown",{attrs:{trigger:"click"}},[i("span",{staticClass:"el-dropdown-link"},[t._v("\n                "+t._s(t.loginUser)+"\n                "),i("i",{staticClass:"el-icon-caret-bottom"})]),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item"),t._v(" "),i("el-dropdown-item",[i("div",{staticStyle:{width:"100%"},on:{click:function(e){return t.openModPsd(t.loginUserInfo)}}},[t._v("修改密码")])]),t._v(" "),i("el-dropdown-item",[i("div",{staticStyle:{width:"100%"},on:{click:t.logout}},[t._v("退出")])])],1)],1)],1)],1),t._v(" "),i("div",{ref:"quickMenu",staticClass:"nav-menu rel"},[t._l(t.showItems,function(e,n){return i("a",{key:n,ref:"quickNav",refInFor:!0,staticClass:"btn-nav",class:e.name===t.activeName?"active":"",on:{click:function(i){return t.clickItem(e)}}},[t._v("\n            "+t._s(e.text)+"\n            "),i("a",{staticClass:"btn-close iconfont icon-guanbi",on:{click:function(e){return e.stopPropagation(),t.del(n)}}})])}),t._v(" "),i("div",{staticClass:"arrow-down"},[i("el-dropdown",{attrs:{trigger:"click"}},[i("div",{staticClass:"btn-arrow-down"},[i("i",{staticClass:"el-icon-arrow-down"})]),t._v(" "),i("el-dropdown-menu",{staticStyle:{"max-height":"520px",overflow:"auto"},attrs:{slot:"dropdown"},slot:"dropdown"},[t._l(t.hideItems,function(e,n){return i("el-dropdown-item",{key:n,nativeOn:{click:function(i){return t.add(e.name)}}},[t._v(t._s(e.text))])}),t._v(" "),i("el-dropdown-item",{directives:[{name:"show",rawName:"v-show",value:t.items.length>0,expression:"items.length > 0"}],attrs:{divided:""},nativeOn:{click:function(e){return t.closeAll()}}},[t._v("关闭所有")])],2)],1)],1)],2)],1),t._v(" "),i("div",{staticClass:"main-box"},t._l(t.items,function(e,n){return i("page",{directives:[{name:"show",rawName:"v-show",value:e.name===t.activeName,expression:"item.name === activeName"}],key:e.name,attrs:{"first-view":e.name,params:{}},on:{forward:t.forward,back:function(e){return t.del(n)}}})}),1)])],1),t._v(" "),i("el-dialog",{attrs:{title:"修改用户密码",visible:t.dialogFormVisible,width:"30%"},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[i("el-form",{attrs:{model:t.form}},[i("el-form-item",{attrs:{label:"密码","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.form.psd,callback:function(e){t.$set(t.form,"psd",e)},expression:"form.psd"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"确认密码","label-width":t.formLabelWidth}},[i("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:t.form.checkPsd,callback:function(e){t.$set(t.form,"checkPsd",e)},expression:"form.checkPsd"}})],1)],1),t._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:t.modifyUserPsd}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var N=i("C7Lr")(_,k,!1,function(t){i("WlGV"),i("DplS")},"data-v-b73e3dcc",null);e.default=N.exports},WlGV:function(t,e){},f1e3:function(t,e,i){"use strict";var n=i("VfK5"),s=i("Wtcz"),o=i("WXuS"),a=i("f9MG"),r=i("9Ntz"),l=i("n/58"),c=i("yBLB"),d=i("PsHI");s(s.S+s.F*!i("6sPN")(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,s,u,h=o(t),m="function"==typeof this?this:Array,f=arguments.length,v=f>1?arguments[1]:void 0,p=void 0!==v,g=0,w=d(h);if(p&&(v=n(v,f>2?arguments[2]:void 0,2)),void 0==w||m==Array&&r(w))for(i=new m(e=l(h.length));e>g;g++)c(i,g,p?v(h[g],g):h[g]);else for(u=w.call(h),i=new m;!(s=u.next()).done;g++)c(i,g,p?a(u,v,[s.value,g],!0):s.value);return i.length=g,i}})},k7cX:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAYAAACpSkzOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDI0QjQ4QUE2NDQ4MTFFQTkzNUVEN0MxQUM2N0E5OUQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDI0QjQ4QUI2NDQ4MTFFQTkzNUVEN0MxQUM2N0E5OUQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMjRCNDhBODY0NDgxMUVBOTM1RUQ3QzFBQzY3QTk5RCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowMjRCNDhBOTY0NDgxMUVBOTM1RUQ3QzFBQzY3QTk5RCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpBCM1sAAAJUSURBVHjapJbPS1RRFMffjPaDmEAaiFqYrbJttbOwhIgKIqgMchG0cRspURBtIoIWpesgyMByrCB0FZEMRGlRu+wXZBSm/4Bjg0y9Phe+Ty537rwf04EPj3fu+fHuuefde4MwDIOUdMIQ/BLDsDOtf5LBGuiFF/A3rBejm4LTss2caBtch0VP8A/ClUX5dCQlysMRmICaE2QZRqDLst8L9+G3Y2t8J+GoYq4mKsBlmPN85We4AJtiymLGBmTrynfFLhjDssdgHHogl6FZcvJ54ok3lQ+CYF9QL+thLeSCbNICGzz67iCMl2+a+uaYmRRhEL7GBbITvVYzPIIVx64KD+GAVc6uBs2wohimGWZ8iUatr9wKV+CH5+O+wKxH/xOuyjeKM5qUKKIFjsGzmKqYseOydf1XE7UmLO4fmIQ5eA/rnPEqDMBsUpfkU3TSCZj2JIm6cwZO/U8i06o34DFslG7ZGl/SswDjcFM+fmmwRkVnXUzX9UOfpTsrXdXSPZdv3Rr5ZrQL3sEhvc/Dfrjj2NWk65aNkYNay91xpdsC/fAKtktXhj3wJqbEb2VT1nuHYpyDoq90rtw2Xem0q126PmfM2N5qFMxXugqcUdvWMuxzxnZQvkvuYKv+FbtbTPnGguZlTJvxA/t/NDN66RjeU7v2ZNy9c/IpwYgzNh0dfBe1U7vyCc5DW8watcnmo8ffHKaXooPPPsoPw1PPUV6Bu1CydCXpKp6jfEKx8kmXk3a4BgthelnQ5aS92evWyRTXrd5mr1s+dujfmrcukJ1p/f8JMAAa6iwaGJ71tQAAAABJRU5ErkJggg=="},kfHR:function(t,e,i){t.exports={default:i("5uZj"),__esModule:!0}},v5PR:function(t,e){},yBLB:function(t,e,i){"use strict";var n=i("hHwa"),s=i("gwUl");t.exports=function(t,e,i){e in t?n.f(t,e,s(0,i)):t[e]=i}}});